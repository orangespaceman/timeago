<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>timeAgo - relative time with JavaScript</title>
</head>
<body>
    <h1>timeago - relative time with JavaScript</h1>
    <p>Turn absolute dates into relative dates.</p>
    <p>Uses a single 'global' setTimeout call once a second, rather than a separate setInterval for every element</p>

    <h2>Init</h2>
    <p>To start, call <code>timeAgo.init();</code></p>

    <h2>Adding Dates</h2>
    <p>To add a relative date, call <code>timeAgo.add($el);</code> where <code>$el</code> is a jQuery object containing the element</p>

    <h2>HTML</h2>
    <p>Can be used with HTML element, but it must have a data attribute of <strong>datetime</strong> which is correctly ISO8601 formatted, e.g. <code>2013-04-27 22:58:43</code> - this can be generated easily with JavaScript or a server-side language</p>

    <h2>Requirements</h2>
    <p>Just import jQuery, and then the timeAgo script</p>

    <h2>Credits</h2>
    <p>Inspired by <a href="http://pragmaticly.github.io/smart-time-ago/">Smart Time Ago</a> and <a href="http://timeago.yarp.com/">timeago</a></p>

    <h2>Example</h2>
    <p>Click <a id="add" href="#">here</a> button to add new elements</p>
    <p>View source to see how it's done</p>
    <ul>
        <li></li>
    </ul>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="timeago.js"></script>
    <script>
        var $ul = $('ul');

        timeAgo.init();
        timeAgo.add($ul.find('li:first').data('datetime', new Date().toISOString()));

        $("#add").on("click", add);
        function add(e) {
            e.preventDefault();
            var $li = $("<li>")
                .data('datetime', new Date().toISOString())
                .appendTo($ul);
            timeAgo.add($li);
        }

        if (!Date.prototype.toISOString) {
        Date.prototype.toISOString = function() {
            function pad(n) { return n < 10 ? '0' + n : n }
            return this.getUTCFullYear() + '-'
                + pad(this.getUTCMonth() + 1) + '-'
                + pad(this.getUTCDate()) + 'T'
                + pad(this.getUTCHours()) + ':'
                + pad(this.getUTCMinutes()) + ':'
                + pad(this.getUTCSeconds()) + 'Z';
        };
    }
    </script>
</body>
</html>